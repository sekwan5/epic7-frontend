import{j as s,L as I,r as m}from"./index-DHxJYTwT.js";import{C as D}from"./CoImages-vUrYe6KO.js";function B({children:i}){return s.jsx("div",{className:"page-title",children:s.jsxs("div",{className:"text",children:[s.jsx("div",{className:"page-path",children:s.jsx("span",{children:s.jsx(I,{to:"/",children:"Home / "})})}),i]})})}function _({width:i,height:r}){return s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-rotate-cw",style:{width:i,height:r},children:[s.jsx("polyline",{points:"23 4 23 10 17 10"}),s.jsx("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"})]})}function H(){return s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-search",style:{width:"20px",height:"20px"},children:[s.jsx("circle",{cx:"11",cy:"11",r:"8"}),s.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]})}const y=(i,r)=>({type:{t04:"0",t01:"25%",t03:"50%",t02:"75%",t05:"100%"},job:{j06:"calc(0% + 2px)",j05:"20%",j01:"40%",j03:"60%",j02:"80%",j04:"100%"},grade:{g01:"0",g02:"25%",g03:"50%",g04:"75%",g05:"100%"}})[i][r]||"0%",M="https://static.smilegatemegaport.com/live/epic7stats/assets/images/common/icon_attr.png",P="https://static.smilegatemegaport.com/live/epic7stats/assets/images/common/icon_job.png";function K(i){const{data:r,setData:p}=i,[u,f]=m.useState(""),[o,g]=m.useState([{value:"All",isSelect:!0},{value:"3",isSelect:!1},{value:"4",isSelect:!1},{value:"5",isSelect:!1}]),[d,w]=m.useState([{value:"All",isSelect:!0},{value:"j01",isSelect:!1},{value:"j02",isSelect:!1},{value:"j03",isSelect:!1},{value:"j04",isSelect:!1},{value:"j05",isSelect:!1},{value:"j06",isSelect:!1}]),[v,N]=m.useState([{value:"All",isSelect:!0},{value:"t01",isSelect:!1},{value:"t02",isSelect:!1},{value:"t03",isSelect:!1},{value:"t04",isSelect:!1},{value:"t05",isSelect:!1}]);m.useEffect(()=>{j()},[o,d,v]);const k=e=>{e.key==="Enter"&&j()};function A(){return r.map(a=>{var b;const c=o.filter(l=>l.isSelect&&l.value!=="All").map(l=>l.value),h=d.filter(l=>l.isSelect&&l.value!=="All").map(l=>l.value),n=v.filter(l=>l.isSelect&&l.value!=="All").map(l=>l.value),S=c.length===0||c.includes(a.grade),t=h.length===0||h.includes(a.job_id),L=n.length===0||n.includes(a.type_id),F=!u||a.name.includes(u)||a.nm_en.toLowerCase().includes(u.toLowerCase())||((b=a.keyword)==null?void 0:b.includes(u));return{...a,isShow:S&&t&&L&&F}})}function j(){const e=A();p(e)}const x=(e,a,c)=>{const h=c==="All",n=e.map(t=>h?{...t,isSelect:t.value===c}:t.value===c?{...t,isSelect:!t.isSelect}:t.value==="All"?{...t,isSelect:!1}:t),S=n.some(t=>t.isSelect&&t.value!=="All");a(S?n:n.map(t=>({...t,isSelect:t.value==="All"})))},C=()=>{f(""),g(o.map(e=>({value:e.value,isSelect:e.value==="All"}))),w(d.map(e=>({value:e.value,isSelect:e.value==="All"}))),N(v.map(e=>({value:e.value,isSelect:e.value==="All"})))};return s.jsxs("div",{className:"hero-filter-wrap",children:[s.jsxs("div",{className:"filter-row input-row",children:[s.jsxs("div",{className:"filter d-flex ",children:[s.jsx("input",{type:"text",value:u,onChange:e=>f(e.target.value),placeholder:"Search",className:"search-input",onKeyDown:k}),s.jsx("button",{className:"search-button",onClick:()=>{j()},children:s.jsx(H,{})})]}),s.jsx("div",{id:"filter2",className:"filter",children:o.map(e=>s.jsx("button",{className:`filter-button ${e.isSelect?"selected":""}`,onClick:()=>x(o,g,e.value),children:e.value==="All"?s.jsx("span",{children:e.value}):s.jsx("div",{className:"star",children:[...Array(Number(e.value)||0)].map((a,c)=>s.jsx("div",{style:{marginRight:"-6px"},children:s.jsx(D,{src:"/icons/star.png",alt:"star",width:18,height:18})},c))})},e.value))})]}),s.jsxs("div",{className:"filter-row",children:[s.jsx("div",{className:"filter",id:"filter3",children:d.map(e=>s.jsx("button",{className:`filter-button ${e.isSelect?"selected":""}`,onClick:()=>x(d,w,e.value),children:e.value==="All"?s.jsx("span",{children:e.value}):s.jsx("i",{className:"icon",style:{backgroundImage:`url(${P})`,backgroundPositionY:y("job",e.value)}})},e.value))}),s.jsx("div",{className:"filter",id:"filter4",children:v.map(e=>s.jsxs("button",{className:`filter-button ${e.isSelect?"selected":""}`,onClick:()=>x(v,N,e.value),children:[e.value==="All"?s.jsx("span",{children:e.value}):s.jsx("i",{className:"icon",style:{backgroundImage:`url(${M})`,backgroundPositionY:y("type",e.value)}})," "]},e.value))})]}),s.jsx("div",{className:"reset-button-container",children:s.jsxs("button",{className:"reset-button",onClick:C,children:["필터 초기화",s.jsx(_,{width:"16px",height:"16px"})]})})]})}export{K as H,B as P};
